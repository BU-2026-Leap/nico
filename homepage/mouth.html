<!DOCTYPE html>

<html lang="en">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
        <link href="styles.css" rel="stylesheet">
        <title>Mouth</title>
        <script>

            document.addEventListener('DOMContentLoaded', function () {
                // Define clickable areas
                const areas = document.querySelectorAll('area');
                // Check in each area
                areas.forEach(area => {
                    area.addEventListener('click', function (e) {
                        console.log(area.alt);
                        // Define flavortext variable
                        const text = document.querySelector('.flavortext');
                        // Define button variable
                        const button = document.querySelector('#yes');

                        // If area leads to new page
                        if (area.alt == `leftCorner` || area.alt == `rightCorner`){
                            text.innerHTML = `Looks like a way deeper. Go in?`;
                            button.innerHTML = 'Yes';
                            // If area is left corner, go to left corner
                            if (area.alt == `leftCorner`){
                                button.setAttribute('href', 'left.html');
                            }
                            // If area is right corner, go deeper
                            else {
                                button.setAttribute('href', 'deeper.html');
                            }
                        }
                        
                        // If area is hole, also lead to new page
                        else if (area.alt == `hole`) {
                            text.innerHTML = `Careful.`;
                            button.innerHTML = `Step in.`;
                            button.setAttribute('href', 'flesh.html');
                        }

                        // If area does not lead to new page
                        else if (area.alt == `light` || area.alt == `stalagtite`) {
                            // Set button to default
                            button.innerHTML = `Go back.`;
                            button.setAttribute('href', 'index.html');
                            // Different flavortext depending on area
                            if (area.alt == `stalagtite`){
                                text.innerHTML = `Just some stalagtites.`;
                            }
                            else if (area.alt == `light`) {
                                text.innerHTML = `Light pours in from the world above.`;
                            }
                        }
                    });
                });
            });

        </script>
    </head>
    <body>
        <div class="row justify-content-center">
            <div class="col-auto">
                <h2>The Mouth</h2>
            </div>
        </div>
        <div class="container">
            <div class="row justify-content-center">
                <div class="frame mb-3 mt-3">
                    <div class="img-container col-auto border border-white">
                        <img src="images/Cave1.jpg" class="fill" alt="mouth of cave" usemap="#workmap">
                        <map name="workmap">
                            <area shape="circle" coords="175,130,50" alt="stalagtite">
                            <area shape="rect" coords="20,200,225,270" alt="leftCorner">
                            <area shape="rect" coords="300,350,400,450" alt="hole">
                            <area shape="rect" coords="420, 275, 745, 350" alt="rightCorner">
                            <area shape="circle" coords="465, 100, 120" alt="light">
                        </map>
                    </div>
                </div>
            </div>
        </div>
        <hr>
        <div>
            <p class="flavortext">You are at the mouth of the cave.</p>
            <a class="button" id="yes" href="index.html">
              Go back
            </a>
        </div>
    </body>
</html>
