<!DOCTYPE html>

<html lang="en">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
        <link href="styles.css" rel="stylesheet">
        <title>Deeper</title>
        <script>

            document.addEventListener('DOMContentLoaded', function () {
                // Define clickable areas
                const areas = document.querySelectorAll('area');
                // Check in each area
                areas.forEach(area => {
                    area.addEventListener('click', function (e) {
                        console.log(area.alt);
                        // Define flavortext variable
                        const text = document.querySelector('.flavortext');
                        // Define button variable
                        const button = document.querySelector('#yes');

                        // If area leads to new page
                        if (area.alt == `exit`) {
                            text.innerHTML = `Looks like a way deeper. Go in?`;
                            button.innerHTML = 'Yes';
                            button.setAttribute('href', 'deeper-still.html');
                        }

                        // If area does not lead to new page
                        else {
                            // Set button to default
                            button.innerHTML = `Go back`;
                            button.setAttribute('href', 'mouth.html');
                            // Different flavortext depending on area
                            if (area.alt == `stalagtite`){
                                text.innerHTML = `More stalagtites.`;
                             }
                            else if (area.alt == `stalagmite`) {
                                text.innerHTML = `These are stalag<em>mites</em>, actually.`;
                            }
                            else if (area.alt == 'water') {
                                text.innerHTML = `Water runs along the cavern floor. Looks like it's coming from somewhere.`;
                            }
                        }
                    });
                });
            });

        </script>
    </head>
    <body>
        <div class="row justify-content-center">
            <div class="col-auto">
                <h2>Spacious Cavern</h2>
            </div>
        </div>
        <div class="container">
            <div class="row justify-content-center">
                <div class="frame mb-3 mt-3">
                    <div class="img-container col-auto border border-white">
                        <img src="images/Deeper.jpg" class="fill" alt="spacious cavern" usemap="#workmap">
                        <map name="workmap">
                            <area shape="circle" coords="450,115,50" alt="stalagtite">
                            <area shape="rect" coords="25,275,325,400" alt="stalagmite">
                            <area shape="circle" coords="650,300,80" alt="stalagmite">
                            <!-- Poly generation done with help from https://www.image-map.net/-->
                            <area shape="poly" coords="385,363,294,276,169,226,207,203,464,297,449,350" alt="water">
                            <area shape="poly" coords="25,76,126,106,125,209,34,175" alt="exit">

                        </map>
                    </div>
                </div>
            </div>
        </div>
        <hr>
        <div>
            <p class="flavortext">You come accross a spacious cavern.</p>
            <a class="button" id="yes" href="mouth.html">
              Go back
            </a>
        </div>
    </body>
</html>
